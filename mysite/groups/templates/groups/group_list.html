{% extends 'groups/group_base.html' %}

{% block pregroup %}
<div class="col-12 mt-4">
  <div class="content">
    <h2>Groups</h2>
    <p>Welcome to the groups page!</p>
  </div>
  {% if user.is_authenticated %}
    <a href="{% url 'groups:create' %}" class="btn btn-primary btn-sm">
      <span class="bi bi-plus-circle"></span> Create New Group
    </a>
  {% endif %}
</div>
{% endblock pregroup %}

{% block group_content %}
<div class="col-md-8 mt-4">
  <div class="list_group">
    {% for group in object_list %}
      <a href="{% url 'groups:single' slug=group.slug %}" class="list-group-item text-decoration-none">
        <h3 class="title">{{group.name}}</h3>
        <div class="list-group-item-text container-fluid p-0">
          {{group.description_html|safe}}
          <div class="row">
            <div class="col-md-4">
              <span class="badge badge-dark badge-pill">{{group.members.count}}</span>
              member{{group.members.count|pluralize}}
            </div>
          </div>
        </div>
      </a>
    {% endfor %}
  </div>
</div>
{% endblock group_content %}